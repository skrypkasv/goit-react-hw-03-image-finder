{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/SearchBar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","request","handleInputChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","length","props","transRequest","toast","dark","resetInput","className","styles","Searchbar","SearchForm","onSubmit","this","type","SearchFormBtn","SearchFormBtn_label","SearchFormInput","onChange","placeholder","Component","ImageGalleryItem","list","onImgClick","map","id","tags","webformatURL","largeImageURL","item","onClick","src","alt","item_image","Button","disabled","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","s","backdrop","content","children","ImageGallery","hits","loading","showModal","modalImg","error","URL","APIKey","imgPerPage","toggleModal","link","tag","scroll","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevState","prevQuery","query","newQuery","prevPage","page","nextPage","fetch","then","response","ok","json","prev","Promise","reject","Error","catch","finally","color","height","width","timeout","onBtnClick","message","App","addRequest","str","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca27d297.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1l-UL\",\"item_image\":\"ImageGalleryItem_item_image__htJ68\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__TEkBX\",\"content\":\"Modal_content__2RfG3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3vdwo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DcbQ\"};","import React, { Component } from 'react';\r\nimport styles from './SearchBar.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass SearchBar extends Component {\r\n  static propTypes = {\r\n    transRequest: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    request: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({\r\n      request: e.target.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { request } = this.state;\r\n\r\n    request.trim().length > 0\r\n      ? this.props.transRequest(request)\r\n      : toast.dark('Search-field is empty!');\r\n\r\n    this.resetInput();\r\n  };\r\n\r\n  resetInput = () => {\r\n    this.setState({\r\n      request: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form\r\n          className={styles.SearchForm}\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <button\r\n            type=\"submit\"\r\n            className={styles.SearchFormBtn}\r\n          >\r\n            <span className={styles.SearchFormBtn_label}>\r\n              Search\r\n            </span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={this.state.request}\r\n            onChange={this.handleInputChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ list, onImgClick }) {\r\n  return list.map(\r\n    ({ id, tags, webformatURL, largeImageURL }) => (\r\n      <li\r\n        key={id}\r\n        className={styles.item}\r\n        onClick={() => onImgClick(largeImageURL, tags)}\r\n      >\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={styles.item_image}\r\n        />\r\n      </li>\r\n    ),\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  list: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Button({ onClick, disabled }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={styles.button}\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\r\n      'keydown',\r\n      this.handleKeyDown,\r\n    );\r\n  }\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div\r\n        className={s.backdrop}\r\n        onClick={this.handleBackdropClick}\r\n      >\r\n        <div className={s.content}>\r\n          {this.props.children}\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    query: PropTypes.string.isRequired,\r\n    page: PropTypes.number.isRequired,\r\n    onBtnClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    hits: [],\r\n    loading: false,\r\n    showModal: false,\r\n    modalImg: null,\r\n    error: null,\r\n  };\r\n\r\n  URL = 'https://pixabay.com/api/';\r\n  APIKey = '19367568-bec790f08eb1ec18688a31f32';\r\n  imgPerPage = 12;\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.query;\r\n    const newQuery = this.props.query;\r\n    const prevPage = prevProps.page;\r\n    const nextPage = this.props.page;\r\n\r\n    if (newQuery !== prevQuery || nextPage !== prevPage) {\r\n      this.setState({ loading: true, error: null });\r\n\r\n      fetch(\r\n        `${this.URL}?q=${newQuery}&page=${nextPage}&key=${this.APIKey}&image_type=photo&orientation=horizontal&per_page=${this.imgPerPage}`,\r\n      )\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(({ hits }) => {\r\n          if (hits.length > 0) {\r\n            return this.setState(prev => {\r\n              return newQuery !== prevQuery\r\n                ? { hits }\r\n                : { hits: [...prev.hits, ...hits] };\r\n            });\r\n          }\r\n          return Promise.reject(\r\n            new Error(`\"${newQuery}\" - not found!!!`),\r\n          );\r\n        })\r\n        .catch(error => {\r\n          this.setState({ hits: [], error });\r\n        })\r\n        .finally(() => {\r\n          this.setState({ loading: false });\r\n          this.scroll();\r\n        });\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onImgClick = (link, tag) => {\r\n    this.setState({\r\n      modalImg: {\r\n        link,\r\n        tag,\r\n      },\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  scroll = () => {\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 700);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      hits,\r\n      showModal,\r\n      modalImg,\r\n      error,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {hits.length > 0 && (\r\n          <ul className={styles.ImageGallery}>\r\n            <ImageGalleryItem\r\n              list={hits}\r\n              onImgClick={this.onImgClick}\r\n            />\r\n          </ul>\r\n        )}\r\n        {loading && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n        {hits.length > 0 && (\r\n          <Button\r\n            onClick={this.props.onBtnClick}\r\n            disabled={loading}\r\n          />\r\n        )}\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={modalImg.link} alt={modalImg.tag} />\r\n          </Modal>\r\n        )}\r\n        {error && <h2>{error.message}</h2>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\nimport SearchBar from './components/Searchbar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    request: '',\n    page: 1,\n  };\n\n  addRequest = str => {\n    this.setState({\n      request: str,\n      page: 1,\n    });\n  };\n  nextPage = () => {\n    this.setState(({ page }) => ({\n      page: (page += 1),\n    }));\n  };\n\n  render() {\n    const { request, page } = this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchBar transRequest={this.addRequest} />\n        <ImageGallery\n          query={request}\n          page={page}\n          onBtnClick={this.nextPage}\n        />\n        <ToastContainer autoClose={4000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(\n      ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n        getCLS(onPerfEntry);\n        getFID(onPerfEntry);\n        getFCP(onPerfEntry);\n        getLCP(onPerfEntry);\n        getTTFB(onPerfEntry);\n      },\n    );\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__27TuN\",\"SearchForm\":\"SearchBar_SearchForm__GXkTB\",\"SearchFormBtn\":\"SearchBar_SearchFormBtn__1jGuk\",\"SearchFormBtn_label\":\"SearchBar_SearchFormBtn_label__3gvn-\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3eTqj\"};"],"sourceRoot":""}