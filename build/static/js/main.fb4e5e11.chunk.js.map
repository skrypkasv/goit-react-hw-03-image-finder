{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchBar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","reportWebVitals.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","request","handleInputChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","length","props","transRequest","alert","resetInput","className","styles","Searchbar","SearchForm","onSubmit","this","type","SearchFormBtn","SearchFormBtn_label","SearchFormInput","onChange","placeholder","Component","ImageGalleryItem","list","onImgClick","map","id","tags","webformatURL","largeImageURL","onClick","src","alt","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","s","backdrop","content","children","ImageGallery","hits","loading","showModal","modalImg","error","URL","APIKey","perPage","toggleModal","link","tag","scroll","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","console","log","prevProps","prevState","prevQuery","query","newQuery","prevPage","page","nextPage","fetch","then","response","ok","json","Promise","reject","Error","prev","catch","finally","color","height","width","timeout","message","Button","button","App","addRequest","str","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,QAAU,yB,mBCA/DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,2JCGNC,E,4MACnBC,MAAQ,CACNC,QAAS,I,EAGXC,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CACZH,QAASE,EAAEE,OAAOC,MAAMC,iB,EAI5BC,aAAe,SAAAL,GACbA,EAAEM,iBADgB,IAGVR,EAAY,EAAKD,MAAjBC,QAERA,EAAQS,OAAOC,OAAS,EACpB,EAAKC,MAAMC,aAAaZ,GACxBa,MAAM,gCAEV,EAAKC,c,EAGPA,WAAa,WACX,EAAKX,SAAS,CACZH,QAAS,M,uDAKX,OACE,wBAAQe,UAAWC,IAAOC,UAA1B,SACE,uBACEF,UAAWC,IAAOE,WAClBC,SAAUC,KAAKb,aAFjB,UAIE,wBACEc,KAAK,SACLN,UAAWC,IAAOM,cAFpB,SAIE,sBAAMP,UAAWC,IAAOO,oBAAxB,sBAKF,uBACER,UAAWC,IAAOQ,gBAClBH,KAAK,OACLhB,MAAOe,KAAKrB,MAAMC,QAClByB,SAAUL,KAAKnB,kBACfyB,YAAY,sC,GAlDeC,a,OCDxB,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,KACAC,EACC,EADDA,WAEA,OAAOD,EAAKE,KACV,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aAAcC,EAA3B,EAA2BA,cAA3B,OACE,oBAEEpB,UAAU,mBACVqB,QAAS,kBAAMN,EAAWK,EAAeF,IAH3C,SAKE,qBACEI,IAAKH,EACLI,IAAKL,EACLlB,UAAU,4BAPPiB,M,qBCLPO,EAAYC,SAASC,cAAc,eAEpBC,E,4MAUnBC,cAAgB,SAAAzC,GACC,WAAXA,EAAE0C,MACJ,EAAKjC,MAAMkC,W,EAGfC,oBAAsB,SAAA5C,GAChBA,EAAE6C,gBAAkB7C,EAAEE,QACxB,EAAKO,MAAMkC,W,kEAfbG,OAAOC,iBAAiB,UAAW7B,KAAKuB,iB,6CAGxCK,OAAOE,oBACL,UACA9B,KAAKuB,iB,+BAeP,OAAOQ,uBACL,qBACEpC,UAAWqC,IAAEC,SACbjB,QAAShB,KAAK0B,oBAFhB,SAIE,qBAAK/B,UAAWqC,IAAEE,QAAlB,SACGlC,KAAKT,MAAM4C,aAGhBhB,O,GA/B6BZ,a,kCCAd6B,E,4MACnBzD,MAAQ,CACN0D,KAAM,GACNC,SAAS,EACTC,WAAW,EACXC,SAAU,KACVC,MAAO,M,EAGTC,IAAM,2B,EACNC,OAAS,qC,EACTC,QAAU,G,EAwCVC,YAAc,WACZ,EAAK9D,UAAS,kBAAoB,CAChCwD,WADY,EAAGA,e,EAKnB7B,WAAa,SAACoC,EAAMC,GAClB,EAAKhE,SAAS,CACZyD,SAAU,CACRM,OACAC,SAGJ,EAAKF,e,EAGPG,OAAS,WACPC,YAAW,WACTrB,OAAOsB,SAAS,CACdC,IAAK/B,SAASgC,gBAAgBC,aAC9BC,SAAU,WAEZC,QAAQC,IAAI,iBACX,M,iEA7DcC,EAAWC,GAAY,IAAD,OACjCC,EAAYF,EAAUG,MACtBC,EAAW7D,KAAKT,MAAMqE,MACtBE,EAAWL,EAAUM,KACrBC,EAAWhE,KAAKT,MAAMwE,KAExBF,IAAaF,GAAaK,IAAaF,IACzC9D,KAAKjB,SAAS,CAAEuD,SAAS,IAEzBW,YAAW,WACTgB,MAAM,GAAD,OACA,EAAKvB,IADL,cACcmB,EADd,iBAC+BG,EAD/B,gBAC+C,EAAKrB,OADpD,6DAC+G,EAAKC,UAEtHsB,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OACb,IAAIC,MAAJ,wGACwBX,EADxB,qEAKHK,MAAK,gBAAG7B,EAAH,EAAGA,KAAH,OACJ,EAAKtD,UAAS,SAAA0F,GACZ,OAAIZ,IAAaF,EACR,CAAEtB,KAAK,YAAKA,IAEd,CAAEA,KAAK,GAAD,mBAAMoC,EAAKpC,MAAX,YAAoBA,WAGpCqC,OAAM,SAAAjC,GAAK,OAAI,EAAK1D,SAAS,CAAE0D,aAC/BkC,QAAQ,EAAK5F,SAAS,CAAEuD,SAAS,OACnC,MAELtC,KAAKgD,W,+BA6BG,IAAD,EAOHhD,KAAKrB,MALP0D,EAFK,EAELA,KACAC,EAHK,EAGLA,QACAC,EAJK,EAILA,UACAC,EALK,EAKLA,SACAC,EANK,EAMLA,MAIF,OAFAc,QAAQC,IAAInB,GAGV,gCACGC,GACC,cAAC,IAAD,CACErC,KAAK,YACL2E,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,MAGb,qBAAIpF,UAAWC,IAAOwC,aAAtB,UACGK,GAAS,6BAAKA,EAAMuC,UAEpB3C,EAAK/C,OAAS,GACb,cAACkB,EAAD,CACEC,KAAM4B,EACN3B,WAAYV,KAAKU,aAGpB6B,GACC,cAAC,EAAD,CAAOd,QAASzB,KAAK6C,YAArB,SACE,qBAAK5B,IAAKuB,EAASM,KAAM5B,IAAKsB,EAASO,kB,GA7GXxC,a,iBCH3B,SAAS0E,EAAT,GAA8B,IAAZjE,EAAW,EAAXA,QAC/B,OACE,wBACEf,KAAK,SACLN,UAAWC,IAAOsF,OAClBlE,QAASA,EAHX,uB,IC2BWmE,E,4MA3BbxG,MAAQ,CACNC,QAAS,GACTmF,KAAM,G,EAGRqB,WAAa,SAAAC,GACX,EAAKtG,SAAS,CAAEH,QAASyG,EAAKtB,KAAM,K,EAGtCC,SAAW,WACT,EAAKjF,UAAS,gBAAGgF,EAAH,EAAGA,KAAH,MAAe,CAAEA,KAAOA,GAAQ,O,uDAGtC,IAAD,EACmB/D,KAAKrB,MAAvBC,EADD,EACCA,QAASmF,EADV,EACUA,KAGjB,OAFAR,QAAQC,IAAI,OAAQO,GAGlB,sBAAKpE,UAAU,MAAf,UACE,cAAC,EAAD,CAAWH,aAAcQ,KAAKoF,aAC9B,cAAC,EAAD,CAAcxB,MAAOhF,EAASmF,KAAMA,IACnCnF,GAAW,cAACqG,EAAD,CAAQjE,QAAShB,KAAKgE,kB,GAtBxBzD,aCSH+E,EAdS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtB,MACnB,YAAkD,IAA/CuB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACjCJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFhBO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5E,SAAS6E,eAAe,SAM1BX,K,kBCfA9G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,cAAgB,iCAAiC,oBAAsB,uCAAuC,gBAAkB,sC","file":"static/js/main.fb4e5e11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__TEkBX\",\"content\":\"Modal_content__2RfG3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DcbQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3vdwo\"};","import React, { Component } from 'react';\r\nimport styles from './SearchBar.module.css';\r\n// import PropTypes from 'prop-types'\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    request: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({\r\n      request: e.target.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { request } = this.state;\r\n\r\n    request.trim().length > 0\r\n      ? this.props.transRequest(request)\r\n      : alert('unable to add empty field!!!');\r\n\r\n    this.resetInput();\r\n  };\r\n\r\n  resetInput = () => {\r\n    this.setState({\r\n      request: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form\r\n          className={styles.SearchForm}\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <button\r\n            type=\"submit\"\r\n            className={styles.SearchFormBtn}\r\n          >\r\n            <span className={styles.SearchFormBtn_label}>\r\n              Search\r\n            </span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={this.state.request}\r\n            onChange={this.handleInputChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types'\r\n\r\nexport default function ImageGalleryItem({\r\n  list,\r\n  onImgClick,\r\n}) {\r\n  return list.map(\r\n    ({ id, tags, webformatURL, largeImageURL }) => (\r\n      <li\r\n        key={id}\r\n        className=\"ImageGalleryItem\"\r\n        onClick={() => onImgClick(largeImageURL, tags)}\r\n      >\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    ),\r\n  );\r\n}\r\n\r\n/*\r\nlist.map(\r\n    ({ id, tags, webformatURL, largeImageURL }) => (\r\n      <li\r\n        key={id}\r\n        className=\"ImageGalleryItem\"\r\n        onClick={() => onImgClick(largeImageURL, tags)}\r\n      >\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    ),\r\n  );\r\n*/\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n// import PropTypes from 'prop-types'\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\r\n      'keydown',\r\n      this.handleKeyDown,\r\n    );\r\n  }\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div\r\n        className={s.backdrop}\r\n        onClick={this.handleBackdropClick}\r\n      >\r\n        <div className={s.content}>\r\n          {this.props.children}\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    hits: [],\r\n    loading: false,\r\n    showModal: false,\r\n    modalImg: null,\r\n    error: null,\r\n  };\r\n\r\n  URL = 'https://pixabay.com/api/';\r\n  APIKey = '19367568-bec790f08eb1ec18688a31f32';\r\n  perPage = 12;\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.query;\r\n    const newQuery = this.props.query;\r\n    const prevPage = prevProps.page;\r\n    const nextPage = this.props.page;\r\n\r\n    if (newQuery !== prevQuery || nextPage !== prevPage) {\r\n      this.setState({ loading: true });\r\n\r\n      setTimeout(() => {\r\n        fetch(\r\n          `${this.URL}?q=${newQuery}&page=${nextPage}&key=${this.APIKey}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`,\r\n        )\r\n          .then(response => {\r\n            if (response.ok) {\r\n              return response.json();\r\n            }\r\n            return Promise.reject(\r\n              new Error(\r\n                `Картинок с именем \"${newQuery}\" не найдено!!!`,\r\n              ),\r\n            );\r\n          })\r\n          .then(({ hits }) =>\r\n            this.setState(prev => {\r\n              if (newQuery !== prevQuery) {\r\n                return { hits: [...hits] };\r\n              }\r\n              return { hits: [...prev.hits, ...hits] };\r\n            }),\r\n          )\r\n          .catch(error => this.setState({ error }))\r\n          .finally(this.setState({ loading: false }));\r\n      }, 1000);\r\n    }\r\n    this.scroll();\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onImgClick = (link, tag) => {\r\n    this.setState({\r\n      modalImg: {\r\n        link,\r\n        tag,\r\n      },\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  scroll = () => {\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n      console.log('must scroll');\r\n    }, 700);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      hits,\r\n      loading,\r\n      showModal,\r\n      modalImg,\r\n      error,\r\n    } = this.state;\r\n    console.log(hits);\r\n\r\n    return (\r\n      <div>\r\n        {loading && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n        <ul className={styles.ImageGallery}>\r\n          {error && <h2>{error.message}</h2>}\r\n\r\n          {hits.length > 0 && (\r\n            <ImageGalleryItem\r\n              list={hits}\r\n              onImgClick={this.onImgClick}\r\n            />\r\n          )}\r\n          {showModal && (\r\n            <Modal onClose={this.toggleModal}>\r\n              <img src={modalImg.link} alt={modalImg.tag} />\r\n            </Modal>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n// import PropTypes from 'prop-types'\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={styles.button}\r\n      onClick={onClick}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport SearchBar from './components/Searchbar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\n\nclass App extends Component {\n  state = {\n    request: '',\n    page: 1,\n  };\n\n  addRequest = str => {\n    this.setState({ request: str, page: 1 });\n  };\n\n  nextPage = () => {\n    this.setState(({ page }) => ({ page: (page += 1) }));\n  };\n\n  render() {\n    const { request, page } = this.state;\n    console.log('page', page);\n\n    return (\n      <div className=\"App\">\n        <SearchBar transRequest={this.addRequest} />\n        <ImageGallery query={request} page={page} />\n        {request && <Button onClick={this.nextPage} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(\n      ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n        getCLS(onPerfEntry);\n        getFID(onPerfEntry);\n        getFCP(onPerfEntry);\n        getLCP(onPerfEntry);\n        getTTFB(onPerfEntry);\n      },\n    );\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__27TuN\",\"SearchForm\":\"SearchBar_SearchForm__GXkTB\",\"SearchFormBtn\":\"SearchBar_SearchFormBtn__1jGuk\",\"SearchFormBtn_label\":\"SearchBar_SearchFormBtn_label__3gvn-\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3eTqj\"};"],"sourceRoot":""}